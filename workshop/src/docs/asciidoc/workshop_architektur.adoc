// configure DE settings for asciidoc
include::_config.adoc[]

:title-logo-image: image:logo.png[Logo][scaledwidth=100%,align=right]


= Software Architektur Antrag "Logging"
Christian Feuz; Frank Moritz; Jan Klominsky; Michael Krausse; Ye Zhao
v0.1, 2016-13-09

== Workshop Architekturantrag

//ToDo List:
//
//- Longlist Vor- und Nachteile
//- Weshalb werden diese Varianten gewählt?
//- Protokollieren bei HTTPS
//- Verfügbarkeit der einzelnen Lösungen
//- Wie wird sichergestellt das auf den Fileserver geschrieben wird?
//- Verbindungsprokolle zwischen den Schichten
//- Anforderungsmapping ->
//- Bei Longlist gleich Killerkriterien ausschliessen
//- Synchroner Aufruf

=== Problemstellung

==== In welchem Unternehmen, Projekt, System stellt sich das Problem?

* Unternehmen Mobiliar : Umgang mit den Kundenschadendaten

==== Worin besteht genau das zu lösende Problem (Scope)?

* Umgang mit den Schadensdaten

==== Wer sind die Interessenvertreter?

=== Randbedingungen

Die Sicherheitsstufe der Protokolldaten entspricht der Sicherheitsstufe der Fachdaten.
Die Protokolldaten dürfen von Fachdaten geographisch getrennt gespeichert werden.
Die Protokolldaten sollen nach spätestens 24 Stunden abrufbar sein.

==== Technische Randbedingungen (z.B. Applikationsplattform, Referenz-Architektur)

* Technologie JEE
* Applikationsserver JBoss
* Datenbank Orcale/ PostgresSQL
* Standarprotokoll SOAP/REST
* ESB Bus darf eingesetzt werden
* kein Cachen von Daten aus dem Backend

==== Organisatorische Randbedingungen

include::_architekturziele.adoc[]

==== Welche wichtigsten Architekturziele sollen mit der Lösung erreicht werden?



== Lösungsvarianten

image::morphologischer_kasten.jpg["Lösungsraum"]

* Blau: Variante 1
* Rot: Variante 2
* Grün: Variante 3

include::_abfragen.adoc[]
include::_speichern.adoc[]
include::_loeschen.adoc[]


=== Variante 1

==== Kontextdiagramm

image::kontext_variante1.png["Kontextdiagramm  Variante 1"]

==== Möglichst präzise Beschreibung (Schlüsselaspekte)

==== Technologische Umsetzung

==== Vor- und Nachteile

==== Risiken

=== Variante 2

image::kontext_variante2.png["Kontextdiagramm Variante 2"]

==== Kontextdiagramm

==== Möglichst präzise Beschreibung (Schlüsselaspekte)

==== Technologische Umsetzung

==== Vor- und Nachteile

==== Risiken

=== Variante 3
==== Kontextdiagramm

image::kontext_variante3.png["Kontextdiagramm Variante 2"]

==== Möglichst präzise Beschreibung (Schlüsselaspekte)
==== Technologische Umsetzung
==== Vor- und Nachteile
==== Risiken

== Auswertung

=== Variantenbewertung

=== Gewichtete Bewertungskriterien, nach denen die Varianten beurteilt werden



[cols="1,1,1,1,1,5]
|===
| Bewertungs- kriterium | Gewichtung | Variante 1 | Variante 2 | Variante 3 | Beschreibung

| Performanz
| 10
| -
| -
| -
| Die Protokollierung soll einen möchlichst kleinen Performanzimpact auf die Fachapplikation haben.

| Verfügbarkeit Fachapplikation
| 10
| -
| -
| -
| Die Verfügbarkeit der Fachapplikation darf nur unwesentlich beeinflusst werden.

| Verfügbarkeit Protokollierung
| 10
| -
| -
| -
| Die Verfügbarkeit muss so hoch wie möglich sein

| Skalierbarkeit
| 8
| -
| -
| -
| Skaliert das Produkt mit wachsender Anzahl von Requests (3 Mio pro Tag, 500 Mio pro Jahr, Datenvolumen 1TB)

| Integrierbar in unsere IT-Landschaft
| 8
| -
| -
| -
| Kann das Produkt nahtlos in unsere bestehende Landschaft integriert werden

| Sicherheit
| 8
| -
| -
| -
| Zugriff nur für berechtigte Personen

| Batchprozesse
| 8
| -
| -
| -
| Automatiche Prozesse werden nicht protokolliert

| Betriebs- und Wartungskosten (pro Jahr)
| 6
| -
| -
| -
| Betriebs- und Lizenzkosten, Support

| Genug passende Mitarbeiter mit Know-How
| 5
| -
| -
| -
| Verfügen wir über genügend verfügbare und qualifizierte Mitarbeiter um die Variante selber zu implementieren

| Erweiterbarkeit Protokollierung
| 5
| -
| -
| -
| Zusätzliche Funktionalität der bestehenden Protokollierung

| Erweiterbarkeit Fachapplikation
| 5
| -
| -
| -
| Neue Fachapplikationen müssen auch protokolliert werden

| Realisierungskosten (einmalig)
| 4
| -
| -
| -
| Wie aufwendig ist die Lösung zu bauen, Kaufpreis bei einer externen Lösung


| Konfigurierung der Aufbewahrungsfrist
| 3
| -
| -
| -
| Die Aufbewahrungsfrist der Protokollierungsdaten muss konfigurierbar sein (z.B 1 Jahr)

| Gesamtbwertung
| 80
| -
| -
| -
| xxx

|===

*Begründung der Gewichtung*

* Performanz, Verfügbarkeit sind wichtige Architekturziele, darum werden sie mit 10 Punkten bewertet.
* Skalierbarkeit, Sicherheit, Batchprozesse und Integrierbarkeit werden mit 8 Punkten bewertet, weil sie intergrale Bestandteile der Nicht-Funktionalen Anforderungen sind.
* Betriebs- und Wartungskosten, die Erfüllung der fachlichen Anforderungen sind wichtiger als die Kosten, daher werden die Kosten nur mit 4 bzw. mit 6 Punkten bewertet. Da die Lebensdauer der Anwendung mehrere Jahre dauert, werden die die laufenden Kosten höher bewertet.
* Die Software wird nicht ständig erweitert, somit wird die Erweiterbarkeit mit 5 Punkten bewertet.
* Das Know-How der Mitarbeiter bewerten wir mit 5 Punkten, weil wir nach Bedarf kurzfristig externe Ressourcen  einkaufen  oder mittelfristig die Mitarbeiter  ausbilden können.
* Die Konfigurierung der Aufbewahrungsfrist wird nicht häufig vorgenommen, somit bewerten wir sie mit 3 Punkten.



=== Begründete Bewertung der verschiedenen Varianten in einer Bewertungsmatrix

*Variante 1*

|===
| Bewertungskriterium | Begründung | Punkte

| Performanz
| -
| -

| Verfügbarkeit Fachapplikation
| -
| -


| Verfügbarkeit Protokollierung
| -
| -


| Skalierbarkeit
| -
| -


| Genug passende Mitarbeiter mit Know-How
| -
| -


| Realisierungskosten (einmalig)
| -
| -

| Betriebs- und Wartungskosten (pro Jahr)
| -
| -

| Erweiterbarkeit Protokollierung
| -
| -

| Erweiterbarkeit Fachapplikation
| -
| -


| Integrierbar in unsere IT-Landschaft
| -
| -

| Sicherheit
| -
| -

| Batchprozesse
| -
| -


| Konfigurierung der Aufbewahrungsfrist
| -
| -


| Gesamtbwertung
| -
| -


|===








== Antrag

=== Begründeter Antrag zur Umsetzung einer Variante

=== Kosten- und Aufwandschätzung (Infrastruktur, Ressourcen)

=== Mögliche Risiken und Massnahmen (Minderung, Behandlung, Akzeptieren)


// Notizen nur zur Information, aber keine ANforderung sie zu liefern
//
//== Sonstige Dokumentation
//
//* Konsistenz: dürfen wir selbst definieren, wie konsistent die Daten sein müssen
//* 10 Mal mehr Lesen, als Speichern
//
//* Ansätze
//** CQRS
//** Aspect Orientierted Einbau
//
//* Teilprobleme
//** Fragen
//*** Wo/ wie?, Abhängigkeiten
//** Abreifen
//** Speichern
//** Abfragen
//** Löschen
//
//* Topdown approach (vom abstrakten zum konkreten)

// Bei Shortlist auf Anforderungen bezug nehmen, welche Anforderungen werden nicht erfüllt
